<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <title th:text="${pageTitle} ?: 'Inventory App'">Inventory App</title>
 
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
<body>
<div class="container">
    <h2>Create Product</h2>

    <form th:action="@{/products/create}" th:object="${productDto}" method="post">
        <div class="mb-3">
            <label for="name" class="form-label">Product Name</label>
            <input type="text" th:field="*{name}" class="form-control" id="name" >
            <div class="text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
        </div>

        <div class="mb-3">
            <label for="price" class="form-label">Price</label>
            <input type="number" step="0.01" th:field="*{price}" class="form-control" id="price" >
            <div class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
        </div>

        <div class="mb-3">
            <label for="quantity" class="form-label">Quantity</label>
            <input type="number" th:field="*{quantity}" class="form-control" id="quantity" >
            <div class="text-danger" th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}"></div>

            
        </div>

        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea th:field="*{description}" class="form-control" id="description" rows="3"></textarea>
            <div class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>

        </div>

        <div class="mb-3">
            <label for="category" class="form-label">Category</label>
            <select th:field="*{categoryId}" class="form-control" id="category" >
                <option value="">-- Select Category --</option>
                <option th:each="cat : ${categories}"
                        th:value="${cat.id}"
                        th:text="${cat.name} + ' (' + ${cat.id} + ')'"></option>
            </select>
            <div class="text-danger" th:if="${#fields.hasErrors('categoryId')}" th:errors="*{categoryId}"></div>

        </div>

        <div class="mb-3">
            <label for="supplier" class="form-label">Supplier</label>
            <select th:field="*{supplierId}" class="form-control" id="supplier" >
                <option value="">-- Select Supplier --</option>
                <option th:each="sup : ${suppliers}"
                        th:value="${sup.id}"
                        th:text="${sup.name} + ' (' + ${sup.id} + ')'"></option>
            </select>
            <div class="text-danger" th:if="${#fields.hasErrors('supplierId')}" th:errors="*{supplierId}"></div>
            
        </div>

        <button type="submit" class="btn btn-primary">Create Product</button>
    </form>
</div>

<script src="/js/bootstrap.bundle.min.js"></script>

</body>
</html>
